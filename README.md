# Discord Reaction Copy Bot

특정 채널에 올라온 메시지를 **봇이 카피 메시지로 재작성**하고,
그 카피 메시지에 달린 **이모지 리액션을 요약해서 메시지에 반영**해주는 Discord 봇입니다.

이 봇은 **서버 전체를 감시하지 않고**,
**지정한 채널 ID에서만 동작**하도록 설계되어 있습니다.

---

## ✨ 주요 기능

- ✅ 특정 채널에서만 메시지 감지
- ✅ 원본 메시지를 기반으로 카피 메시지 생성
- ✅ 카피 메시지에만 리액션 허용
- ✅ 같은 이모지에 반응한 유저를 한 줄로 묶어서 표시
- ✅ 유저 이름 대신 **멘션(@user)** 표시
- ✅ 서버 커스텀 이모지 및 기본 이모지 모두 지원
- ✅ Discord 언어(한국어 / 일본어)에 따라 메시지 라벨 자동 변경

---

## 🧱 동작 구조

```
[특정 채널]
  └ 유저가 메시지 작성
        ↓
  └ 봇이 카피 메시지 생성
        ↓
  └ 카피 메시지에 리액션 추가/제거
        ↓
  └ 봇이 카피 메시지를 수정하여 요약 반영
```

> ⚠️ 원본 메시지는 **수정하거나 삭제하지 않습니다**.

---

## 🧩 메시지 포맷 예시

###

```
From: <@주최자 ID>

<내용>

---------------------
😄 : @alice, @bob
🔥 : @charlie
```

---

## ⚙️ 필수 환경

- Node.js 18+
- Discord 봇 계정
- TypeScript

---

## 🔐 환경 변수 설정

### `.env`

```env
DISCORD_TOKEN=YOUR_DISCORD_BOT_TOKEN
ORIGIN_CHANNEL_ID=123456789012345678
COPY_TARGET_CHANNEL_ID=123456789012345678
```

- `DISCORD_TOKEN`
  - Discord Developer Portal에서 발급한 Bot Token
- `ORIGIN_CHANNEL_ID`
  - **봇이 복사할 동작할 채널 ID (1개)**
- `COPY_TARGET_CHANNEL_ID`
  - **봇 메시지가 작성될 채널 ID (1개)**

---

## 🚀 실행 방법

```bash
npm install
npx ts-node src/index.ts
```

정상 실행 시 콘솔에 다음과 같이 출력됩니다:

```
Logged in as your-bot-name#1234
```

---

## 🧠 설계 원칙

- 서버 단위 설정 ❌
- 채널 단위 제어 ⭕️
- 명시적으로 허용된 채널만 동작
- 사고 방지를 위한 보수적 이벤트 필터링

---

## 📌 향후 확장 아이디어

- 채널 ID 여러 개 지원
- 채널별 언어 설정
- 슬래시 커맨드로 ON / OFF 토글
- OCI / VPS 배포 가이드 추가

---

## ⚠️ 주의사항

- 봇은 **다른 유저의 메시지를 수정할 수 없습니다**
- Discord 권한상 원본 메시지는 읽기만 가능합니다
- 카피 메시지에만 리액션을 달아주세요

---

## 📄 라이선스

MIT
